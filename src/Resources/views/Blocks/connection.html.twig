{% import _self as Macros %}
{% trans_default_domain "OptilogBundle" %}

<!-- Connection Block -->
<ul class="list-unstyled">
   
    {{ Macros.result(connector.selfTest,  "admin.selftest") }}
    {{ Macros.result(connector.connect,  "admin.connect") }}
    
    {% if connector.connect %}
        {% set wsUrl = url("splash_connector_action", {"connectorName": "optilog", "webserviceId": connector.webserviceId}) %}
    <li>
        <h4 class="font-lg text-info">
            <span class="label label-info">
                <i class="fa fa-external-link"></i>
                &nbsp;Url
            </span>
            <a href="{{ wsUrl }}" target="_blank">
                {{ wsUrl }}
            </a>
        </h4>
    </li>   
    {% endif %}
    
</ul>

{% macro Result(result, text) %}
    
    <li>
        <h4 class="font-lg {% if result %}text-success{% else %}text-danger{% endif %}">
            <span class="label {% if result %}label-success{% else %}label-danger{% endif %}">
                <i class="fa {% if result %}fa-check{% else %}fa-times{% endif %}"></i>
                &nbsp;{% if result %}Ok{% else %}Ko{% endif %}
            </span>
            &nbsp;{{ text| trans }}
        </h4>
    </li>    
    
{% endmacro %}

<!-- End Connection Block -->

